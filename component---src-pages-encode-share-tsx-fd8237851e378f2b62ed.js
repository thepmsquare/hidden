"use strict";(self.webpackChunkhidden=self.webpackChunkhidden||[]).push([[88],{55:function(e,t,n){var i=n(4836);t.Z=void 0;var o=i(n(4938)),r=n(5893),a=(0,o.default)((0,r.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done");t.Z=a},4282:function(e,t,n){var i=n(4836);t.Z=void 0;var o=i(n(4938)),r=n(5893),a=(0,o.default)((0,r.jsx)("path",{d:"M12 5V2L8 6l4 4V7c3.31 0 6 2.69 6 6 0 2.97-2.17 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93 0-4.42-3.58-8-8-8zm-6 8c0-1.65.67-3.15 1.76-4.24L6.34 7.34C4.9 8.79 4 10.79 4 13c0 4.08 3.05 7.44 7 7.93v-2.02c-2.83-.48-5-2.94-5-5.91z"}),"RestartAlt");t.Z=a},6818:function(e,t,n){var i=n(4836);t.Z=void 0;var o=i(n(4938)),r=n(5893),a=(0,o.default)((0,r.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=a},1359:function(e,t,n){var i=n(4836);t.Z=void 0;var o=i(n(4938)),r=n(5893),a=(0,o.default)((0,r.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");t.Z=a},4962:function(e,t,n){n.d(t,{Z:function(){return v}});var i=n(3366),o=n(7462),r=n(7294),a=n(512),s=n(4780),c=n(6122),l=n(2077),f=n(1588),u=n(4867);function d(e){return(0,u.Z)("MuiCardMedia",e)}(0,f.Z)("MuiCardMedia",["root","media","img"]);var m=n(5893);const g=["children","className","component","image","src","style"],p=(0,l.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:i,isImageComponent:o}=n;return[t.root,i&&t.media,o&&t.img]}})((({ownerState:e})=>(0,o.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"}))),h=["video","audio","picture","iframe","img"],y=["picture","img"];var v=r.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiCardMedia"}),{children:r,className:l,component:f="div",image:u,src:v,style:w}=n,U=(0,i.Z)(n,g),Z=-1!==h.indexOf(f),b=!Z&&u?(0,o.Z)({backgroundImage:`url("${u}")`},w):w,B=(0,o.Z)({},n,{component:f,isMediaComponent:Z,isImageComponent:-1!==y.indexOf(f)}),I=(e=>{const{classes:t,isMediaComponent:n,isImageComponent:i}=e,o={root:["root",n&&"media",i&&"img"]};return(0,s.Z)(o,d,t)})(B);return(0,m.jsx)(p,(0,o.Z)({className:(0,a.Z)(I.root,l),as:f,role:!Z&&u?"img":void 0,ref:t,style:b,ownerState:B,src:Z?u||v:void 0},U,{children:r}))}))},5826:function(e,t,n){n.r(t),n.d(t,{Head:function(){return ne},default:function(){return ie}});var i=n(7294),o=n(4160),r=n(5295),a=n(4962),s=n(245),c=n(7462),l=n(3366),f=n(512),u=n(4780),d=n(2077),m=n(6122),g=n(1588),p=n(4867);function h(e){return(0,p.Z)("MuiCardContent",e)}(0,g.Z)("MuiCardContent",["root"]);var y=n(5893);const v=["className","component"],w=(0,d.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}})));var U=i.forwardRef((function(e,t){const n=(0,m.Z)({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=n,r=(0,l.Z)(n,v),a=(0,c.Z)({},n,{component:o}),s=(e=>{const{classes:t}=e;return(0,u.Z)({root:["root"]},h,t)})(a);return(0,y.jsx)(w,(0,c.Z)({as:o,className:(0,f.Z)(s.root,i),ownerState:a,ref:t},r))})),Z=n(2574),b=n(9617),B=n(9164),I=n(5991),C=n(8879),E=n(5677),M=n(55),S=n(6818),F=n(1359),N=n(4282);"stream"in Blob.prototype||Object.defineProperty(Blob.prototype,"stream",{value(){return new Response(this).body}}),"setBigUint64"in DataView.prototype||Object.defineProperty(DataView.prototype,"setBigUint64",{value(e,t,n){const i=Number(0xffffffffn&t),o=Number(t>>32n);this.setUint32(e+(n?0:4),i,n),this.setUint32(e+(n?4:0),o,n)}});var x=e=>new DataView(new ArrayBuffer(e)),k=e=>new Uint8Array(e.buffer||e),R=e=>(new TextEncoder).encode(String(e)),L=e=>Math.min(4294967295,Number(e)),A=e=>Math.min(65535,Number(e));function z(e,t){if(void 0===t||t instanceof Date||(t=new Date(t)),e instanceof File)return{isFile:1,t:t||new Date(e.lastModified),i:e.stream()};if(e instanceof Response)return{isFile:1,t:t||new Date(e.headers.get("Last-Modified")||Date.now()),i:e.body};if(void 0===t)t=new Date;else if(isNaN(t))throw new Error("Invalid modification date.");if(void 0===e)return{isFile:0,t:t};if("string"==typeof e)return{isFile:1,t:t,i:R(e)};if(e instanceof Blob)return{isFile:1,t:t,i:e.stream()};if(e instanceof Uint8Array||e instanceof ReadableStream)return{isFile:1,t:t,i:e};if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return{isFile:1,t:t,i:k(e)};if(Symbol.asyncIterator in e)return{isFile:1,t:t,i:D(e[Symbol.asyncIterator]())};throw new TypeError("Unsupported input format.")}function D(e,t=e){return new ReadableStream({async pull(t){let n=0;for(;t.desiredSize>n;){const i=await e.next();if(!i.value){t.close();break}{const e=j(i.value);t.enqueue(e),n+=e.byteLength}}},cancel(e){t.throw?.(e)}})}function j(e){return"string"==typeof e?R(e):e instanceof Uint8Array?e:k(e)}function T(e,t,n){let[i,o]=function(e){return e?e instanceof Uint8Array?[e,1]:ArrayBuffer.isView(e)||e instanceof ArrayBuffer?[k(e),1]:[R(e),0]:[void 0,0]}(t);if(e instanceof File)return{o:V(i||R(e.name)),u:BigInt(e.size),l:o};if(e instanceof Response){const t=e.headers.get("content-disposition"),r=t&&t.match(/;\s*filename\*?=["']?(.*?)["']?$/i),a=r&&r[1]||e.url&&new URL(e.url).pathname.split("/").findLast(Boolean),s=a&&decodeURIComponent(a),c=n||+e.headers.get("content-length");return{o:V(i||R(s)),u:BigInt(c),l:o}}return i=V(i,void 0!==e||void 0!==n),"string"==typeof e?{o:i,u:BigInt(R(e).length),l:o}:e instanceof Blob?{o:i,u:BigInt(e.size),l:o}:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?{o:i,u:BigInt(e.byteLength),l:o}:{o:i,u:O(e,n),l:o}}function O(e,t){return t>-1?BigInt(t):e?void 0:0n}function V(e,t=1){if(!e||e.every((e=>47===e)))throw new Error("The file must have a name.");if(t)for(;47===e[e.length-1];)e=e.subarray(0,-1);else 47!==e[e.length-1]&&(e=new Uint8Array([...e,47]));return e}var P=new Uint32Array(256);for(let oe=0;oe<256;++oe){let e=oe;for(let t=0;t<8;++t)e=e>>>1^(1&e&&3988292384);P[oe]=e}function H(e,t=0){t^=-1;for(var n=0,i=e.length;n<i;n++)t=t>>>8^P[255&t^e[n]];return(-1^t)>>>0}function $(e,t,n=0){const i=e.getSeconds()>>1|e.getMinutes()<<5|e.getHours()<<11,o=e.getDate()|e.getMonth()+1<<5|e.getFullYear()-1980<<9;t.setUint16(n,i,1),t.setUint16(n+2,o,1)}function q({o:e,l:t},n){return 8*(!t||(n??function(e){try{Y.decode(e)}catch{return 0}return 1}(e)))}var Y=new TextDecoder("utf8",{fatal:1});function G(e,t=0){const n=x(30);return n.setUint32(0,1347093252),n.setUint32(4,754976768|t),$(e.t,n,10),n.setUint16(26,e.o.length,1),k(n)}async function*J(e){let{i:t}=e;if("then"in t&&(t=await t),t instanceof Uint8Array)yield t,e.m=H(t,0),e.u=BigInt(t.length);else{e.u=0n;const n=t.getReader();for(;;){const{value:t,done:i}=await n.read();if(i)break;e.m=H(t,e.m),e.u+=BigInt(t.length),yield t}}}function K(e,t){const n=x(16+(t?8:0));return n.setUint32(0,1347094280),n.setUint32(4,e.isFile?e.m:0,1),t?(n.setBigUint64(8,e.u,1),n.setBigUint64(16,e.u,1)):(n.setUint32(8,L(e.u),1),n.setUint32(12,L(e.u),1)),k(n)}function Q(e,t,n=0,i=0){const o=x(46);return o.setUint32(0,1347092738),o.setUint32(4,755182848),o.setUint16(8,2048|n),$(e.t,o,12),o.setUint32(16,e.isFile?e.m:0,1),o.setUint32(20,L(e.u),1),o.setUint32(24,L(e.u),1),o.setUint16(28,e.o.length,1),o.setUint16(30,i,1),o.setUint16(40,e.isFile?33204:16893,1),o.setUint32(42,L(t),1),k(o)}function W(e,t,n){const i=x(n);return i.setUint16(0,1,1),i.setUint16(2,n-4,1),16&n&&(i.setBigUint64(4,e.u,1),i.setBigUint64(12,e.u,1)),i.setBigUint64(n-8,t,1),k(i)}function X(e){return e instanceof File||e instanceof Response?[[e],[e]]:[[e.input,e.name,e.size],[e.input,e.lastModified]]}function _(e,t={}){const n={"Content-Type":"application/zip","Content-Disposition":"attachment"};return("bigint"==typeof t.length||Number.isInteger(t.length))&&t.length>0&&(n["Content-Length"]=String(t.length)),t.metadata&&(n["Content-Length"]=String((e=>function(e){let t=BigInt(22),n=0n,i=0;for(const o of e){if(!o.o)throw new Error("Every file must have a non-empty name.");if(void 0===o.u)throw new Error(`Missing size for file "${(new TextDecoder).decode(o.o)}".`);const e=o.u>=0xffffffffn,r=n>=0xffffffffn;n+=BigInt(46+o.o.length+(e&&8))+o.u,t+=BigInt(o.o.length+46+(12*r|28*e)),i||(i=e)}return(i||n>=0xffffffffn)&&(t+=BigInt(76)),t+n}(function*(e){for(const t of e)yield T(...X(t)[0])}(e)))(t.metadata))),new Response(ee(e,t),{headers:n})}function ee(e,t={}){const n=function(e){const t=e[Symbol.iterator in e?Symbol.iterator:Symbol.asyncIterator]();return{async next(){const e=await t.next();if(e.done)return e;const[n,i]=X(e.value);return{done:0,value:Object.assign(z(...i),T(...n))}},throw:t.throw?.bind(t),[Symbol.asyncIterator](){return this}}}(e);return D(async function*(e,t){const n=[];let i=0n,o=0n,r=0;for await(const c of e){const e=q(c,t.buffersAreUTF8);yield G(c,e),yield c.o,c.isFile&&(yield*J(c));const a=c.u>=0xffffffffn,s=12*(i>=0xffffffffn)|28*a;yield K(c,a),n.push(Q(c,i,e,s)),n.push(c.o),s&&n.push(W(c,i,s)),a&&(i+=8n),o++,i+=BigInt(46+c.o.length)+c.u,r||(r=a)}let a=0n;for(const c of n)yield c,a+=BigInt(c.length);if(r||i>=0xffffffffn){const e=x(76);e.setUint32(0,1347094022),e.setBigUint64(4,BigInt(44),1),e.setUint32(12,755182848),e.setBigUint64(24,o,1),e.setBigUint64(32,o,1),e.setBigUint64(40,a,1),e.setBigUint64(48,i,1),e.setUint32(56,1347094023),e.setBigUint64(64,i+a,1),e.setUint32(72,1,1),yield k(e)}const s=x(22);s.setUint32(0,1347093766),s.setUint16(8,A(o),1),s.setUint16(10,A(o),1),s.setUint32(12,L(a),1),s.setUint32(16,L(i),1),yield k(s)}(n,t),n)}const te="undefined"!=typeof window,ne=()=>i.createElement("title",null,"encode share | hidden");var ie=e=>{let t,n;if(!((c=e.location.state)&&null!==c&&"selectedImageName"in c&&"newDataBlob"in c&&"numPixelsToChange"in c&&"percentImageChange"in c))return te&&(0,o.c4)("/"),"";var c;let l,f;t=e.location.state.selectedImageName,n=e.location.state.newDataBlob,l=te?window.localStorage.getItem("theme"):null,null!==l?f="dark"===l?"dark":"light":(f=I.Z.defaultThemeState,te&&window.localStorage.setItem("theme",I.Z.defaultThemeState));const{0:u,1:d}=(0,i.useState)(f),{0:m,1:g}=(0,i.useState)({isOpen:!1,message:"",severity:"error"});let p=(0,b.Z)({palette:{mode:u},typography:{fontFamily:I.Z.defaultFont}});return i.createElement(B.Z,{theme:p},i.createElement("main",{className:"main",style:{backgroundImage:'url("'+n+'")'}},i.createElement(r.Z,{className:"inside-main"},i.createElement(a.Z,{className:"custom-card-media"},i.createElement(M.Z,{color:"success",fontSize:"large"}),i.createElement(s.Z,null,"your message was hidden successfully.")),i.createElement(U,null,i.createElement(s.Z,{align:"justify"},"to do this"," ",i.createElement(s.Z,{variant:"button",color:"primary"},e.location.state.numPixelsToChange)," ","pixel(s) were considered for modification, which is around"," ",i.createElement(s.Z,{variant:"button",color:"primary"},e.location.state.percentImageChange.toFixed(2),"%")," ","of the selected image.")),i.createElement(Z.Z,{onClick:()=>{const e=document.createElement("a");e.href=URL.createObjectURL(n),e.download=I.Z.encodeModifiedFileName.replace("{FILENAME}",t)+".png",e.click()},variant:"contained",size:"large",color:"primary",startIcon:i.createElement(S.Z,null)},"save modified image"),i.createElement(Z.Z,{variant:"outlined",startIcon:i.createElement(S.Z,null),color:"primary",onClick:async()=>{const e=document.createElement("a"),i=I.Z.encodeModifiedFileName.replace("{FILENAME}",t)+".png",o=I.Z.encodeModifiedFileName.replace("{FILENAME}",t)+".zip",r=await _([{name:i,lastModified:new Date,input:n}]).blob();e.href=URL.createObjectURL(r),e.download=o,e.click()}},"save as zip file"),i.createElement(Z.Z,{variant:"outlined",startIcon:i.createElement(F.Z,null),color:"warning",onClick:async()=>{try{const e=I.Z.encodeModifiedFileName.replace("{FILENAME}",t)+".png",i={files:[new File([n],e,{type:n.type})]};navigator.share&&navigator.canShare(i)?await navigator.share(i):g({isOpen:!0,message:"sharing is unsupported by your browser.",severity:"error"})}catch(e){g({isOpen:!0,message:e.message,severity:"error"})}},title:"may result in data loss, if image is compressed."},"share (do not compress)"),i.createElement(Z.Z,{onClick:async()=>{await(0,o.c4)("/")},variant:"outlined",startIcon:i.createElement(N.Z,null)},"start over"),i.createElement(C.Z,{themeState:u,customChangeThemeState:e=>{d(e),te&&window.localStorage.setItem("theme",e)}})),i.createElement(E.Z,{snackbarState:m,changeSnackbarState:g})))}}}]);
//# sourceMappingURL=component---src-pages-encode-share-tsx-fd8237851e378f2b62ed.js.map