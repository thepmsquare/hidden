{"version":3,"file":"component---src-pages-encode-tsx-5d684783ba67d1981ffa.js","mappings":"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","sources":["webpack://hidden/./src/pages/encode.tsx"],"sourcesContent":["import React, { FC, FormEvent, useState } from \"react\";\r\nimport { navigate, type HeadFC, type PageProps } from \"gatsby\";\r\nimport { Button, Typography, TextField, Card } from \"@mui/material\";\r\nimport { ThemeProvider, createTheme } from \"@mui/material/styles\";\r\nimport CryptoJS from \"crypto-js\";\r\nimport config from \"../../config\";\r\nimport ThemeToggle from \"../components/ThemeToggle\";\r\nimport CustomSnackbar from \"../components/CustomSnackbar\";\r\nimport type CustomSnackbarStateType from \"../types/CustomSnackbarStateType\";\r\nimport \"../stylesheets/encode.css\";\r\nimport \"../stylesheets/common.css\";\r\nimport getSelectedImage from \"../utils/getSelectedImage\";\r\nimport \"@fontsource/roboto/300.css\";\r\nimport \"@fontsource/roboto/400.css\";\r\nimport \"@fontsource/roboto/500.css\";\r\nimport \"@fontsource/roboto/700.css\";\r\nimport ImageIcon from \"@mui/icons-material/Image\";\r\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\r\nimport PasswordInput from \"../components/PasswordInput\";\r\n\r\nconst isBrowser = typeof window !== \"undefined\";\r\n\r\nexport const Head: HeadFC = () => <title>encode | hidden</title>;\r\n\r\nconst EncodePage: FC<PageProps> = (props) => {\r\n  // get state from props\r\n  interface CustomStateType {\r\n    selectedImageState: {\r\n      selectedImage: string;\r\n      selectedImageName: string;\r\n      selectedImageType: string;\r\n    };\r\n    [key: string]: any;\r\n  }\r\n  function isCustomStateType(obj: any): obj is CustomStateType {\r\n    if (obj && obj !== null) {\r\n      return \"selectedImageState\" in obj;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  let selectedImageStateProps;\r\n  if (isCustomStateType(props.location.state)) {\r\n    selectedImageStateProps = props.location.state.selectedImageState;\r\n  } else {\r\n    if (isBrowser) {\r\n      navigate(\"/\");\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  // get stuff from local storage\r\n  let localStorageTheme;\r\n  if (isBrowser) {\r\n    localStorageTheme = window.localStorage.getItem(\"theme\");\r\n  } else {\r\n    localStorageTheme = null;\r\n  }\r\n  let defaultThemeState: \"dark\" | \"light\";\r\n  if (localStorageTheme !== null) {\r\n    defaultThemeState = localStorageTheme === \"dark\" ? \"dark\" : \"light\";\r\n  } else {\r\n    defaultThemeState = config.defaultThemeState;\r\n    if (isBrowser) {\r\n      window.localStorage.setItem(\"theme\", config.defaultThemeState);\r\n    }\r\n  }\r\n\r\n  // state\r\n  const [themeState, changeThemeState] = useState(defaultThemeState);\r\n  const [snackbarState, changeSnackbarState] =\r\n    useState<CustomSnackbarStateType>({\r\n      isOpen: false,\r\n      message: \"\",\r\n      severity: \"error\",\r\n    });\r\n  const [selectedImageState, changeSelectedImageState] = useState(\r\n    selectedImageStateProps\r\n  );\r\n  const [message, changeMessage] = useState(\"\");\r\n  const [password, changePassword] = useState(\"\");\r\n\r\n  // functions\r\n  const customChangeThemeState = (newThemeState: \"dark\" | \"light\") => {\r\n    changeThemeState(newThemeState);\r\n    if (isBrowser) {\r\n      window.localStorage.setItem(\"theme\", newThemeState);\r\n    }\r\n  };\r\n\r\n  const uploadPhoto = () => {\r\n    let inputDOM = document.createElement(\"input\");\r\n    inputDOM.setAttribute(\"type\", \"file\");\r\n    inputDOM.setAttribute(\"accept\", \"image/png,image/jpeg,image/webp\");\r\n    inputDOM.addEventListener(\"change\", (e) => {\r\n      getSelectedImage(\r\n        e,\r\n        (selectedImage, selectedImageName, selectedImageType) => {\r\n          changeSelectedImageState({\r\n            selectedImage,\r\n            selectedImageName,\r\n            selectedImageType,\r\n          });\r\n        },\r\n        changeSnackbarState\r\n      );\r\n    });\r\n    inputDOM.click();\r\n  };\r\n\r\n  const convertMessageToBinary = (message: string) => {\r\n    let encodedMessage = \"\";\r\n    let utf8Style = \"\";\r\n    try {\r\n      for (let i = 0; i < message.length; i++) {\r\n        const unicodeNumber = message.charCodeAt(i);\r\n        let unicodeNumberInBinary = unicodeNumber.toString(2);\r\n        utf8Style = \"\";\r\n        if (unicodeNumber < 128) {\r\n          utf8Style = unicodeNumberInBinary.padStart(8, \"0\");\r\n        } else if (unicodeNumber < 2048) {\r\n          unicodeNumberInBinary = unicodeNumberInBinary.padStart(11, \"0\");\r\n          utf8Style =\r\n            \"110\" +\r\n            unicodeNumberInBinary.slice(0, 5) +\r\n            \"10\" +\r\n            unicodeNumberInBinary.slice(5, 12);\r\n        } else if (unicodeNumber < 65536) {\r\n          unicodeNumberInBinary = unicodeNumberInBinary.padStart(16, \"0\");\r\n          utf8Style =\r\n            \"1110\" +\r\n            unicodeNumberInBinary.slice(0, 4) +\r\n            \"10\" +\r\n            unicodeNumberInBinary.slice(4, 10) +\r\n            \"10\" +\r\n            unicodeNumberInBinary.slice(10, 16);\r\n        } else if (unicodeNumber <= 1114111) {\r\n          unicodeNumberInBinary = unicodeNumberInBinary.padStart(21, \"0\");\r\n          utf8Style =\r\n            \"11110\" +\r\n            unicodeNumberInBinary.slice(0, 3) +\r\n            \"10\" +\r\n            unicodeNumberInBinary.slice(3, 9) +\r\n            \"10\" +\r\n            unicodeNumberInBinary.slice(9, 15) +\r\n            \"10\" +\r\n            unicodeNumberInBinary.slice(15, 21);\r\n        } else {\r\n          throw new Error();\r\n        }\r\n        encodedMessage += utf8Style;\r\n      }\r\n      return encodedMessage;\r\n    } catch (error: any) {\r\n      throw new Error(\"Unexpected error while processing the message text.\");\r\n    }\r\n  };\r\n\r\n  const putMessageInImage = (\r\n    newImageData: ImageData,\r\n    encodedMessage: string,\r\n    imageWidth: number,\r\n    imageHeight: number,\r\n    oldImageData: ImageData\r\n  ): [ImageData, number, number] => {\r\n    let newPixels = newImageData.data;\r\n    let oldPixels = oldImageData.data;\r\n    let finalEncodedMessage = encodedMessage + config.messageAppendedAtEnd;\r\n    let msgLength = finalEncodedMessage.length;\r\n    let maxLength = imageWidth * imageHeight * 3 * 2;\r\n    if (msgLength > maxLength) {\r\n      throw new Error(\r\n        \"Image with more pixels needed for encoding current message.\"\r\n      );\r\n    }\r\n    let numPixelsToChange = Math.ceil(msgLength / (2 * 3));\r\n    let percentImageChange = (numPixelsToChange / maxLength) * 100;\r\n\r\n    let pixelIndex = 0;\r\n    for (let i = 0; i < finalEncodedMessage.length; i += 6) {\r\n      const rm = finalEncodedMessage.slice(i, i + 2);\r\n      const gm = finalEncodedMessage.slice(i + 2, i + 4);\r\n      const bm = finalEncodedMessage.slice(i + 4, i + 6);\r\n\r\n      let r =\r\n        parseInt(oldPixels[pixelIndex].toString(), 10)\r\n          .toString(2)\r\n          .padStart(8, \"0\")\r\n          .slice(0, 6) + rm;\r\n      let g =\r\n        gm !== \"\"\r\n          ? parseInt(oldPixels[pixelIndex + 1].toString(), 10)\r\n              .toString(2)\r\n              .padStart(8, \"0\")\r\n              .slice(0, 6) + gm\r\n          : oldPixels[pixelIndex + 1].toString();\r\n      let b =\r\n        bm !== \"\"\r\n          ? parseInt(oldPixels[pixelIndex + 2].toString(), 10)\r\n              .toString(2)\r\n              .padStart(8, \"0\")\r\n              .slice(0, 6) + bm\r\n          : oldPixels[pixelIndex + 2].toString();\r\n\r\n      let rNum = parseInt(r, 2);\r\n      let gNum = parseInt(g, 2);\r\n      let bNum = parseInt(b, 2);\r\n\r\n      newPixels[pixelIndex] = rNum;\r\n      newPixels[pixelIndex + 1] = gNum;\r\n      newPixels[pixelIndex + 2] = bNum;\r\n      newPixels[pixelIndex + 3] = oldPixels[pixelIndex + 3];\r\n\r\n      pixelIndex += 4; // Move to the next pixel (4 channels per pixel in RGBA)\r\n    }\r\n    for (; pixelIndex < oldPixels.length; pixelIndex++) {\r\n      newPixels[pixelIndex] = oldPixels[pixelIndex];\r\n    }\r\n    return [newImageData, numPixelsToChange, percentImageChange];\r\n  };\r\n\r\n  const handleFormSubmit = async (e: FormEvent) => {\r\n    e.preventDefault();\r\n    try {\r\n      const image = new Image();\r\n      image.src = selectedImageState.selectedImage;\r\n      const canvas = document.createElement(\"canvas\");\r\n      canvas.width = image.width;\r\n      canvas.height = image.height;\r\n      const ctx = canvas.getContext(\"2d\", { colorSpace: \"srgb\" });\r\n      if (ctx === null) {\r\n        throw Error(\"unexpected error.\");\r\n      }\r\n      ctx.drawImage(image, 0, 0);\r\n      let encodedMessage;\r\n      if (password) {\r\n        encodedMessage = convertMessageToBinary(\r\n          CryptoJS.AES.encrypt(message, password).toString()\r\n        );\r\n      } else {\r\n        encodedMessage = convertMessageToBinary(message);\r\n      }\r\n\r\n      const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n      let newImageData = new ImageData(canvas.width, canvas.height);\r\n      let numPixelsToChange;\r\n      let percentImageChange;\r\n      [newImageData, numPixelsToChange, percentImageChange] = putMessageInImage(\r\n        newImageData,\r\n        encodedMessage,\r\n        image.width,\r\n        image.height,\r\n        imageData\r\n      );\r\n\r\n      ctx.putImageData(newImageData, 0, 0);\r\n      const newDataURL = canvas.toDataURL(\"image/png\");\r\n      await navigate(\"/encode_share/\", {\r\n        state: {\r\n          selectedImageState,\r\n          newDataURL,\r\n          numPixelsToChange,\r\n          percentImageChange,\r\n        },\r\n      });\r\n    } catch (error: any) {\r\n      changeSnackbarState({\r\n        isOpen: true,\r\n        message: error.message,\r\n        severity: \"error\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const navigateToStep2 = async () => {\r\n    await navigate(\"/step2/\", {\r\n      state: {\r\n        selectedImageState,\r\n      },\r\n    });\r\n  };\r\n\r\n  // misc\r\n  let currentTheme = createTheme({\r\n    palette: {\r\n      mode: themeState,\r\n    },\r\n    typography: {\r\n      fontFamily: config.defaultFont,\r\n    },\r\n  });\r\n  return (\r\n    <ThemeProvider theme={currentTheme}>\r\n      <main\r\n        className=\"main\"\r\n        style={{\r\n          backgroundImage: `url(\"${selectedImageState?.selectedImage}\")`,\r\n        }}\r\n      >\r\n        <Card className=\"inside-main\">\r\n          <Typography>\r\n            selected image:{\" \"}\r\n            <Typography\r\n              title={`${selectedImageState.selectedImageName}.${selectedImageState?.selectedImageType}`}\r\n              color=\"primary\"\r\n              variant=\"button\"\r\n            >\r\n              {selectedImageState.selectedImageName.length >\r\n              config.step2FileNameLength.max\r\n                ? `${\r\n                    selectedImageState.selectedImageName.slice(\r\n                      0,\r\n                      config.step2FileNameLength.visibleEnds\r\n                    ) +\r\n                    \"...\" +\r\n                    selectedImageState.selectedImageName.slice(\r\n                      -config.step2FileNameLength.visibleEnds\r\n                    )\r\n                  }.${selectedImageState.selectedImageType}`\r\n                : `${selectedImageState.selectedImageName}.${selectedImageState.selectedImageType}`}\r\n            </Typography>\r\n          </Typography>\r\n          <form className=\"form\" onSubmit={handleFormSubmit}>\r\n            <TextField\r\n              placeholder=\"enter text to hide in selected image\"\r\n              value={message}\r\n              onChange={(e) => changeMessage(e.target.value)}\r\n              required\r\n              rows={3}\r\n              multiline\r\n              autoFocus\r\n              label=\"message\"\r\n            />\r\n\r\n            <PasswordInput\r\n              value={password}\r\n              onChange={(e) => changePassword(e.target.value)}\r\n              uniqueIdForARIA=\"encode-password\"\r\n              variant=\"outlined\"\r\n              label=\"optional password\"\r\n              others={{}}\r\n            />\r\n\r\n            <Button type=\"submit\" size=\"large\" variant=\"contained\">\r\n              submit\r\n            </Button>\r\n          </form>\r\n          <Button\r\n            onClick={uploadPhoto}\r\n            variant=\"outlined\"\r\n            startIcon={<ImageIcon />}\r\n          >\r\n            change selected image\r\n          </Button>\r\n          <ThemeToggle\r\n            themeState={themeState}\r\n            customChangeThemeState={customChangeThemeState}\r\n          />\r\n          <Button\r\n            onClick={navigateToStep2}\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            startIcon={<ArrowBackIcon />}\r\n          >\r\n            go back\r\n          </Button>\r\n        </Card>\r\n        <CustomSnackbar\r\n          snackbarState={snackbarState}\r\n          changeSnackbarState={changeSnackbarState}\r\n        />\r\n      </main>\r\n    </ThemeProvider>\r\n  );\r\n};\r\nexport default EncodePage;\r\n"],"names":["isBrowser","window","Head","React","props","selectedImageStateProps","obj","location","state","navigate","localStorageTheme","defaultThemeState","selectedImageState","localStorage","getItem","config","setItem","themeState","changeThemeState","useState","snackbarState","changeSnackbarState","isOpen","message","severity","changeSelectedImageState","changeMessage","password","changePassword","convertMessageToBinary","encodedMessage","utf8Style","i","length","unicodeNumber","charCodeAt","unicodeNumberInBinary","toString","padStart","slice","Error","error","currentTheme","createTheme","palette","mode","typography","fontFamily","defaultFont","ThemeProvider","theme","className","style","backgroundImage","selectedImage","Card","Typography","title","selectedImageName","selectedImageType","color","variant","step2FileNameLength","max","visibleEnds","onSubmit","async","e","preventDefault","image","Image","src","canvas","document","createElement","width","height","ctx","getContext","colorSpace","drawImage","CryptoJS","encrypt","imageData","getImageData","numPixelsToChange","percentImageChange","newImageData","ImageData","imageWidth","imageHeight","oldImageData","newPixels","data","oldPixels","finalEncodedMessage","messageAppendedAtEnd","msgLength","maxLength","Math","ceil","pixelIndex","rm","gm","bm","r","parseInt","g","b","rNum","gNum","bNum","putMessageInImage","putImageData","newDataURL","toDataURL","TextField","placeholder","value","onChange","target","required","rows","multiline","autoFocus","label","PasswordInput","uniqueIdForARIA","others","Button","type","size","onClick","inputDOM","setAttribute","addEventListener","getSelectedImage","click","startIcon","ImageIcon","ThemeToggle","customChangeThemeState","newThemeState","ArrowBackIcon","CustomSnackbar"],"sourceRoot":""}